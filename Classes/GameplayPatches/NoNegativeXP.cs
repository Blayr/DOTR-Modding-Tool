
namespace GameplayPatches {
    public class NoNegativeXP : Patch {
        static int DelUnit = 0x21f48c;
        static int DelUnit2 = 0x21f504;
        static int DelUnit2_1 = 0x21f560;
        static int DelUnit2_2 = 0x21f5e4;
        static int AtkLeader = 0x244658;
        static int DuelEnd1 = 0x243468;
        static int DuelEnd2 = 0x2432c8;
        static int DuelEnd3 = 0x243128;
        static int DuelEnd4 = 0x242f88;

        public override bool IsApplied() {
            return DataAccess.Instance.CheckIfPatchApplied(DelUnit2_1, new byte[4] { 0x00, 0x00, 0x07, 0x24 });
        }

        public override void Apply() {
            DataAccess.Instance.ApplyPatch(DelUnit2_1, new byte[4] { 0x00, 0x00, 0x07, 0x24 });
            DataAccess.Instance.ApplyPatch(DelUnit2_2, new byte[4] { 0x00, 0x00, 0x07, 0x24 });
            DataAccess.Instance.ApplyPatch(DelUnit, new byte[4] { 0x00, 0x00, 0x07, 0x24 });
            DataAccess.Instance.ApplyPatch(DelUnit2, new byte[4] { 0x00, 0x00, 0x07, 0x24 });
            DataAccess.Instance.ApplyPatch(DuelEnd1, new byte[172] { 0x00, 0x00, 0x07, 0x24, 0x28, 0x2e, 0x40, 0x70, 0x0b, 0x20, 0x10, 0x00, 0xc4, 0x56, 0x08, 0x0c, 0x28, 0x36, 0x00, 0x70, 0x2e, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x0a, 0x00, 0x41, 0x2a, 0x0e, 0x00, 0x20, 0x10, 0x0f, 0x00, 0x41, 0x2a, 0x01, 0x00, 0x04, 0x24, 0x0b, 0x20, 0x10, 0x00, 0x0c, 0x84, 0x07, 0x0c, 0x28, 0x2e, 0x00, 0x70, 0x01, 0x00, 0x04, 0x24, 0x00, 0x00, 0x07, 0x24, 0x28, 0x2e, 0x40, 0x70, 0x0b, 0x20, 0x10, 0x00, 0xc4, 0x56, 0x08, 0x0c, 0x28, 0x36, 0x00, 0x70, 0x1f, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x0f, 0x00, 0x41, 0x2a, 0x0e, 0x00, 0x20, 0x10, 0x01, 0x00, 0x04, 0x24, 0x01, 0x00, 0x04, 0x24, 0x0b, 0x20, 0x10, 0x00, 0x0c, 0x84, 0x07, 0x0c, 0x28, 0x2e, 0x00, 0x70, 0x01, 0x00, 0x04, 0x24, 0x00, 0x00, 0x07, 0x24, 0x28, 0x2e, 0x40, 0x70, 0x0b, 0x20, 0x10, 0x00, 0xc4, 0x56, 0x08, 0x0c, 0x28, 0x36, 0x00, 0x70, 0x10, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x24, 0x0b, 0x20, 0x10, 0x00, 0x0c, 0x84, 0x07, 0x0c, 0x28, 0x2e, 0x00, 0x70, 0x01, 0x00, 0x04, 0x24, 0x00, 0x00, 0x07, 0x24 });
            DataAccess.Instance.ApplyPatch(DuelEnd2, new byte[172] { 0x00, 0x00, 0x07, 0x24, 0x28, 0x2e, 0x40, 0x70, 0x0b, 0x20, 0x10, 0x00, 0xc4, 0x56, 0x08, 0x0c, 0x28, 0x36, 0x00, 0x70, 0x96, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x0a, 0x00, 0x41, 0x2a, 0x0e, 0x00, 0x20, 0x10, 0x0f, 0x00, 0x41, 0x2a, 0x01, 0x00, 0x04, 0x24, 0x0b, 0x20, 0x10, 0x00, 0x0c, 0x84, 0x07, 0x0c, 0x28, 0x2e, 0x00, 0x70, 0x01, 0x00, 0x04, 0x24, 0x00, 0x00, 0x07, 0x24, 0x28, 0x2e, 0x40, 0x70, 0x0b, 0x20, 0x10, 0x00, 0xc4, 0x56, 0x08, 0x0c, 0x28, 0x36, 0x00, 0x70, 0x87, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x0f, 0x00, 0x41, 0x2a, 0x0e, 0x00, 0x20, 0x10, 0x01, 0x00, 0x04, 0x24, 0x01, 0x00, 0x04, 0x24, 0x0b, 0x20, 0x10, 0x00, 0x0c, 0x84, 0x07, 0x0c, 0x28, 0x2e, 0x00, 0x70, 0x01, 0x00, 0x04, 0x24, 0x00, 0x00, 0x07, 0x24, 0x28, 0x2e, 0x40, 0x70, 0x0b, 0x20, 0x10, 0x00, 0xc4, 0x56, 0x08, 0x0c, 0x28, 0x36, 0x00, 0x70, 0x78, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x24, 0x0b, 0x20, 0x10, 0x00, 0x0c, 0x84, 0x07, 0x0c, 0x28, 0x2e, 0x00, 0x70, 0x01, 0x00, 0x04, 0x24, 0x00, 0x00, 0x07, 0x24 });
            DataAccess.Instance.ApplyPatch(DuelEnd3, new byte[172] { 0x00, 0x00, 0x07, 0x24, 0x28, 0x2e, 0x40, 0x70, 0x0b, 0x20, 0x10, 0x00, 0xc4, 0x56, 0x08, 0x0c, 0x28, 0x36, 0x00, 0x70, 0xfe, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x0a, 0x00, 0x41, 0x2a, 0x0e, 0x00, 0x20, 0x10, 0x0f, 0x00, 0x41, 0x2a, 0x01, 0x00, 0x04, 0x24, 0x0b, 0x20, 0x10, 0x00, 0x0c, 0x84, 0x07, 0x0c, 0x28, 0x2e, 0x00, 0x70, 0x01, 0x00, 0x04, 0x24, 0x00, 0x00, 0x07, 0x24, 0x28, 0x2e, 0x40, 0x70, 0x0b, 0x20, 0x10, 0x00, 0xc4, 0x56, 0x08, 0x0c, 0x28, 0x36, 0x00, 0x70, 0xef, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x0f, 0x00, 0x41, 0x2a, 0x0e, 0x00, 0x20, 0x10, 0x01, 0x00, 0x04, 0x24, 0x01, 0x00, 0x04, 0x24, 0x0b, 0x20, 0x10, 0x00, 0x0c, 0x84, 0x07, 0x0c, 0x28, 0x2e, 0x00, 0x70, 0x01, 0x00, 0x04, 0x24, 0x00, 0x00, 0x07, 0x24, 0x28, 0x2e, 0x40, 0x70, 0x0b, 0x20, 0x10, 0x00, 0xc4, 0x56, 0x08, 0x0c, 0x28, 0x36, 0x00, 0x70, 0xe0, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x24, 0x0b, 0x20, 0x10, 0x00, 0x0c, 0x84, 0x07, 0x0c, 0x28, 0x2e, 0x00, 0x70, 0x01, 0x00, 0x04, 0x24, 0x00, 0x00, 0x07, 0x24 });
            DataAccess.Instance.ApplyPatch(DuelEnd4, new byte[172] { 0x00, 0x00, 0x07, 0x24, 0x28, 0x2e, 0x40, 0x70, 0x0b, 0x20, 0x10, 0x00, 0xc4, 0x56, 0x08, 0x0c, 0x28, 0x36, 0x00, 0x70, 0x67, 0x01, 0x00, 0x10, 0x01, 0x00, 0x02, 0x24, 0x0a, 0x00, 0x41, 0x2a, 0x0e, 0x00, 0x20, 0x10, 0x0f, 0x00, 0x41, 0x2a, 0x01, 0x00, 0x04, 0x24, 0x0b, 0x20, 0x10, 0x00, 0x0c, 0x84, 0x07, 0x0c, 0x28, 0x2e, 0x00, 0x70, 0x01, 0x00, 0x04, 0x24, 0x00, 0x00, 0x07, 0x24, 0x28, 0x2e, 0x40, 0x70, 0x0b, 0x20, 0x10, 0x00, 0xc4, 0x56, 0x08, 0x0c, 0x28, 0x36, 0x00, 0x70, 0x57, 0x01, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x0f, 0x00, 0x41, 0x2a, 0x0e, 0x00, 0x20, 0x10, 0x01, 0x00, 0x04, 0x24, 0x01, 0x00, 0x04, 0x24, 0x0b, 0x20, 0x10, 0x00, 0x0c, 0x84, 0x07, 0x0c, 0x28, 0x2e, 0x00, 0x70, 0x01, 0x00, 0x04, 0x24, 0x00, 0x00, 0x07, 0x24, 0x28, 0x2e, 0x40, 0x70, 0x0b, 0x20, 0x10, 0x00, 0xc4, 0x56, 0x08, 0x0c, 0x28, 0x36, 0x00, 0x70, 0x48, 0x01, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x24, 0x0b, 0x20, 0x10, 0x00, 0x0c, 0x84, 0x07, 0x0c, 0x28, 0x2e, 0x00, 0x70, 0x01, 0x00, 0x04, 0x24, 0x00, 0x00, 0x07, 0x24 });
            DataAccess.Instance.ApplyPatch(AtkLeader, new byte[4] { 0x00, 0x00, 0x07, 0x24 });
        }

        public override void Remove() {
            DataAccess.Instance.ApplyPatch(DelUnit2_1, new byte[4] { 0xfc, 0xff, 0x07, 0x24 });
            DataAccess.Instance.ApplyPatch(DelUnit2_2, new byte[4] { 0xfc, 0xff, 0x07, 0x24 });
            DataAccess.Instance.ApplyPatch(DelUnit, new byte[4] { 0xfc, 0xff, 0x07, 0x24 });
            DataAccess.Instance.ApplyPatch(DelUnit2, new byte[4] { 0xfc, 0xff, 0x07, 0x24 });
            DataAccess.Instance.ApplyPatch(DuelEnd1, new byte[172] { 0xd8, 0xff, 0x07, 0x24, 0x28, 0x2e, 0x40, 0x70, 0x0b, 0x20, 0x10, 0x00, 0xc4, 0x56, 0x08, 0x0c, 0x28, 0x36, 0x00, 0x70, 0x2e, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x0a, 0x00, 0x41, 0x2a, 0x0e, 0x00, 0x20, 0x10, 0x0f, 0x00, 0x41, 0x2a, 0x01, 0x00, 0x04, 0x24, 0x0b, 0x20, 0x10, 0x00, 0x0c, 0x84, 0x07, 0x0c, 0x28, 0x2e, 0x00, 0x70, 0x01, 0x00, 0x04, 0x24, 0xe0, 0xff, 0x07, 0x24, 0x28, 0x2e, 0x40, 0x70, 0x0b, 0x20, 0x10, 0x00, 0xc4, 0x56, 0x08, 0x0c, 0x28, 0x36, 0x00, 0x70, 0x1f, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x0f, 0x00, 0x41, 0x2a, 0x0e, 0x00, 0x20, 0x10, 0x01, 0x00, 0x04, 0x24, 0x01, 0x00, 0x04, 0x24, 0x0b, 0x20, 0x10, 0x00, 0x0c, 0x84, 0x07, 0x0c, 0x28, 0x2e, 0x00, 0x70, 0x01, 0x00, 0x04, 0x24, 0xe8, 0xff, 0x07, 0x24, 0x28, 0x2e, 0x40, 0x70, 0x0b, 0x20, 0x10, 0x00, 0xc4, 0x56, 0x08, 0x0c, 0x28, 0x36, 0x00, 0x70, 0x10, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x24, 0x0b, 0x20, 0x10, 0x00, 0x0c, 0x84, 0x07, 0x0c, 0x28, 0x2e, 0x00, 0x70, 0x01, 0x00, 0x04, 0x24, 0xf0, 0xff, 0x07, 0x24 });
            DataAccess.Instance.ApplyPatch(DuelEnd2, new byte[172] { 0xdc, 0xff, 0x07, 0x24, 0x28, 0x2e, 0x40, 0x70, 0x0b, 0x20, 0x10, 0x00, 0xc4, 0x56, 0x08, 0x0c, 0x28, 0x36, 0x00, 0x70, 0x96, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x0a, 0x00, 0x41, 0x2a, 0x0e, 0x00, 0x20, 0x10, 0x0f, 0x00, 0x41, 0x2a, 0x01, 0x00, 0x04, 0x24, 0x0b, 0x20, 0x10, 0x00, 0x0c, 0x84, 0x07, 0x0c, 0x28, 0x2e, 0x00, 0x70, 0x01, 0x00, 0x04, 0x24, 0xe4, 0xff, 0x07, 0x24, 0x28, 0x2e, 0x40, 0x70, 0x0b, 0x20, 0x10, 0x00, 0xc4, 0x56, 0x08, 0x0c, 0x28, 0x36, 0x00, 0x70, 0x87, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x0f, 0x00, 0x41, 0x2a, 0x0e, 0x00, 0x20, 0x10, 0x01, 0x00, 0x04, 0x24, 0x01, 0x00, 0x04, 0x24, 0x0b, 0x20, 0x10, 0x00, 0x0c, 0x84, 0x07, 0x0c, 0x28, 0x2e, 0x00, 0x70, 0x01, 0x00, 0x04, 0x24, 0xec, 0xff, 0x07, 0x24, 0x28, 0x2e, 0x40, 0x70, 0x0b, 0x20, 0x10, 0x00, 0xc4, 0x56, 0x08, 0x0c, 0x28, 0x36, 0x00, 0x70, 0x78, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x24, 0x0b, 0x20, 0x10, 0x00, 0x0c, 0x84, 0x07, 0x0c, 0x28, 0x2e, 0x00, 0x70, 0x01, 0x00, 0x04, 0x24, 0xf4, 0xff, 0x07, 0x24 });
            DataAccess.Instance.ApplyPatch(DuelEnd3, new byte[172] { 0xe4, 0xff, 0x07, 0x24, 0x28, 0x2e, 0x40, 0x70, 0x0b, 0x20, 0x10, 0x00, 0xc4, 0x56, 0x08, 0x0c, 0x28, 0x36, 0x00, 0x70, 0xfe, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x0a, 0x00, 0x41, 0x2a, 0x0e, 0x00, 0x20, 0x10, 0x0f, 0x00, 0x41, 0x2a, 0x01, 0x00, 0x04, 0x24, 0x0b, 0x20, 0x10, 0x00, 0x0c, 0x84, 0x07, 0x0c, 0x28, 0x2e, 0x00, 0x70, 0x01, 0x00, 0x04, 0x24, 0xec, 0xff, 0x07, 0x24, 0x28, 0x2e, 0x40, 0x70, 0x0b, 0x20, 0x10, 0x00, 0xc4, 0x56, 0x08, 0x0c, 0x28, 0x36, 0x00, 0x70, 0xef, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x0f, 0x00, 0x41, 0x2a, 0x0e, 0x00, 0x20, 0x10, 0x01, 0x00, 0x04, 0x24, 0x01, 0x00, 0x04, 0x24, 0x0b, 0x20, 0x10, 0x00, 0x0c, 0x84, 0x07, 0x0c, 0x28, 0x2e, 0x00, 0x70, 0x01, 0x00, 0x04, 0x24, 0xf4, 0xff, 0x07, 0x24, 0x28, 0x2e, 0x40, 0x70, 0x0b, 0x20, 0x10, 0x00, 0xc4, 0x56, 0x08, 0x0c, 0x28, 0x36, 0x00, 0x70, 0xe0, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x24, 0x0b, 0x20, 0x10, 0x00, 0x0c, 0x84, 0x07, 0x0c, 0x28, 0x2e, 0x00, 0x70, 0x01, 0x00, 0x04, 0x24, 0xfc, 0xff, 0x07, 0x24 });
            DataAccess.Instance.ApplyPatch(DuelEnd4, new byte[172] { 0xe0, 0xff, 0x07, 0x24, 0x28, 0x2e, 0x40, 0x70, 0x0b, 0x20, 0x10, 0x00, 0xc4, 0x56, 0x08, 0x0c, 0x28, 0x36, 0x00, 0x70, 0x67, 0x01, 0x00, 0x10, 0x01, 0x00, 0x02, 0x24, 0x0a, 0x00, 0x41, 0x2a, 0x0e, 0x00, 0x20, 0x10, 0x0f, 0x00, 0x41, 0x2a, 0x01, 0x00, 0x04, 0x24, 0x0b, 0x20, 0x10, 0x00, 0x0c, 0x84, 0x07, 0x0c, 0x28, 0x2e, 0x00, 0x70, 0x01, 0x00, 0x04, 0x24, 0xe8, 0xff, 0x07, 0x24, 0x28, 0x2e, 0x40, 0x70, 0x0b, 0x20, 0x10, 0x00, 0xc4, 0x56, 0x08, 0x0c, 0x28, 0x36, 0x00, 0x70, 0x57, 0x01, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x0f, 0x00, 0x41, 0x2a, 0x0e, 0x00, 0x20, 0x10, 0x01, 0x00, 0x04, 0x24, 0x01, 0x00, 0x04, 0x24, 0x0b, 0x20, 0x10, 0x00, 0x0c, 0x84, 0x07, 0x0c, 0x28, 0x2e, 0x00, 0x70, 0x01, 0x00, 0x04, 0x24, 0xf0, 0xff, 0x07, 0x24, 0x28, 0x2e, 0x40, 0x70, 0x0b, 0x20, 0x10, 0x00, 0xc4, 0x56, 0x08, 0x0c, 0x28, 0x36, 0x00, 0x70, 0x48, 0x01, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x24, 0x0b, 0x20, 0x10, 0x00, 0x0c, 0x84, 0x07, 0x0c, 0x28, 0x2e, 0x00, 0x70, 0x01, 0x00, 0x04, 0x24, 0xf8, 0xff, 0x07, 0x24 });
            DataAccess.Instance.ApplyPatch(AtkLeader, new byte[4] { 0xf8, 0xff, 0x07, 0x24 });
        }
    }
    }